(function(){"use strict";var t={5387:function(t,i,e){var s=e(9242),n=e(3396);const h={class:"flex flex-col items-center justify-center h-full"};function o(t,i,e,s,o,l){const a=(0,n.up)("LineCoder");return(0,n.wg)(),(0,n.iD)("div",h,[(0,n.Wm)(a)])}const l=t=>((0,n.dD)("data-v-5aa76260"),t=t(),(0,n.Cn)(),t),a={class:"flex flex-col justify-center items-center"},r=l((()=>(0,n._)("h1",{class:"text-3xl font-bold mb-10"},"The Line-coded Signal",-1))),c={class:"flex flex-col justify-center items-center mb-4"},g=["width","height"],d={class:"flex-row flex w-full"},u=(0,n.uE)('<option value="UniNRZ" selected data-v-5aa76260>Unipolar NRZ</option><option value="BiNRZ" data-v-5aa76260>Bipolar NRZ</option><option value="UniRZ" data-v-5aa76260>Unipolar RZ</option><option value="BiRZ" data-v-5aa76260>Bipolar RZ</option><option value="NRZI" data-v-5aa76260>NRZI</option><option value="AMI" data-v-5aa76260>AMI</option><option value="MH-2" data-v-5aa76260>Manchester-2</option><option value="FM" data-v-5aa76260>Frequency modulation</option>',8),p=[u],f=l((()=>(0,n._)("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15"},[(0,n._)("path",{d:"M7.5 14.5A7 7 0 013.17 2M7.5.5A7 7 0 0111.83 13m-.33-3v3.5H15M0 1.5h3.5V5",stroke:"currentColor"})],-1))),x=[f];function v(t,i,e,h,o,l){return(0,n.wg)(),(0,n.iD)("div",a,[r,(0,n._)("div",c,[(0,n._)("canvas",{class:"object-center rounded",id:"canvas",ref:"maincanvas",width:o.width,height:o.height,onMousemove:i[0]||(i[0]=(...t)=>l.showCoordinates&&l.showCoordinates(...t))},null,40,g)]),(0,n._)("div",d,[(0,n.wy)((0,n._)("select",{class:"p-2 font-bold rounded","onUpdate:modelValue":i[1]||(i[1]=t=>o.encodeType=t)},p,512),[[s.bM,o.encodeType]]),(0,n._)("input",{ref:"signalInput",onChange:i[2]||(i[2]=(0,s.iM)((t=>l.handleInputString(t)),["prevent"])),class:"mx-2 flex-1 border-solid border-2 border-gray-200 rounded p-2",type:"text",placeholder:"0101001110"},null,544),(0,n._)("button",{onClick:i[3]||(i[3]=(0,s.iM)((t=>l.setRandomSignals()),["prevent"])),class:"p-1 bg-white min-w-[42px] rounded flex flex-row justify-center items-center"},x)])])}e(7658);const m=[0,0,0,0],S=[1,1,1,1],w=[-1,-1,-1,-1];function b(t){let i=[];for(let e=0;e<t.length;e++){let s=t[e];i[e]=1==s?[1,1,1,1]:[0,0,0,0]}return i}function C(t){let i=[];for(let e=0;e<t.length;e++){let s=t[e];i[e]=1==s?[1,1,1,1]:[-1,-1,-1,-1]}return i}function k(t){let i=[];for(let e=0;e<t.length;e++){let s=t[e];i[e]=1==s?[1,1,0,0]:m}return i}function y(t){let i=[];for(let e=0;e<t.length;e++){let s=t[e];i[e]=1==s?[1,1,0,0]:[-1,-1,0,0]}return i}function T(t){let i=[];for(let e=0;e<t.length;e++){let s=t[e-1],n=t[e],h=t[e+1];s||(s=0),h||(h=0),0==n&&(e>0&&i[e-1]===w?i[e]=S:i[e]=w),1==n&&(i[e]=e>0?i[e-1]:[1,1,1,1])}return i}function W(t){let i=[],e=!1;for(let s=0;s<t.length;s++){let n=t[s-1],h=t[s],o=t[s+1];n||(n=0),o||(o=0),console.log("---start---"),1==h&&(console.log("signal 1"),s>0&&!0===e?(i[s]=[0,-1,-1,0],e=!1):(i[s]=[0,1,1,0],e=!0)),0==h&&(console.log("signal 0"),i[s]=m)}return console.log("---end---"),i}function M(t){let i=[];for(let e=0;e<t.length;e++){let s=t[e];i[e]=1==s?[1,1,-1,-1]:[-1,-1,1,1]}return i}function H(t){let i=[],e=!1;for(let s=0;s<t.length;s++){let n=t[s-1],h=t[s],o=t[s+1];n||(n=0),o||(o=0),console.log("---start---"),console.log("currentBit "+h),1==h&&(console.log("signal 1"),s>0&&!0===e?(i[s]=w,e=!1):(i[s]=S,e=!0)),0==h&&(console.log("signal 0"),i[s]=[-1,-1,1,1])}return console.log("---end---"),i}var R={name:"HelloWorld",data(){return{canvas:null,bufferCanvas:null,encodeType:"UniNRZ",width:800,maxWidth:800,height:100,stepsCount:13,stepHeight:20,x:0,y:0,sizeChanged:!1,inputString:"10101000011",inputSignal:[],signals:[],signalMovePromise:null}},watch:{encodeType(){this.createSignals(this.encodeType)}},computed:{getStepWidth(){return this.width/this.stepsCount},getCanvas(){return document.getElementById("canvas")},ctx(){return this.getCanvas.getContext("2d")},visibleSegmentsCount(){return this.width/this.getStepWidth}},methods:{showCoordinates(t){this.x=t.offsetX,this.y=t.offsetY},updateCanvasWidth(){this.width=document.documentElement.clientWidth/1.12,this.width>this.maxWidth&&(this.width=this.maxWidth),this.sizeChanged=!0},draw(){this.ctx.clearRect(0,0,this.width,this.height),this.drawTimeline(),this.drawClockPeriodLines(),this.drawYAxis(),this.sizeChanged=!1},createSignalFromString(t){this.inputSignal=[];for(let i=0;i<t.length;i++)1!=t[i]&&0!=t[i]||this.inputSignal.push(t[i])},handleInputString(t){let i=t.target.value;this.createSignalFromString(i),this.createSignals(this.encodeType),this.stepsCount=this.inputSignal.length,this.draw(),this.sizeChanged=!0},drawTimeline(){for(let t=0;t<this.visibleSegmentsCount;t++){let i=this.signals[t],e=this.signals[t+1];i||(i=0),e||(e=0),this.drawSegment(t,i,e)}},drawSegment(t,i,e){let s=2.2;const n="white";let h,o,l,a;e=-e[0],h=-i[0],o=-i[1],l=-i[2],a=-i[3],console.log(i);const r=t*this.getStepWidth,c=r+this.getStepWidth,g=r+(c-r)/2,d=(c-r)/4;this.ctx.beginPath(),this.ctx.moveTo(r,this.height/2+h*this.stepHeight),this.ctx.lineTo(r+d,this.height/2+h*this.stepHeight),this.ctx.lineWidth=s,this.ctx.strokeStyle=n,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(r+d,this.height/2+h*this.stepHeight),this.ctx.lineTo(r+d,this.height/2+o*this.stepHeight),this.ctx.lineWidth=s,this.ctx.strokeStyle=n,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(g-d,this.height/2+o*this.stepHeight),this.ctx.lineTo(g,this.height/2+o*this.stepHeight),this.ctx.lineWidth=s,this.ctx.strokeStyle=n,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(g,this.height/2+o*this.stepHeight),this.ctx.lineTo(g,this.height/2+l*this.stepHeight),this.ctx.lineWidth=s,this.ctx.strokeStyle=n,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(g,this.height/2+l*this.stepHeight),this.ctx.lineTo(g+d,this.height/2+l*this.stepHeight),this.ctx.lineWidth=s,this.ctx.strokeStyle=n,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(g+d,this.height/2+l*this.stepHeight),this.ctx.lineTo(g+d,this.height/2+a*this.stepHeight),this.ctx.lineWidth=s,this.ctx.strokeStyle=n,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(g+d,this.height/2+a*this.stepHeight),this.ctx.lineTo(c,this.height/2+a*this.stepHeight),this.ctx.lineWidth=s,this.ctx.strokeStyle=n,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(c,this.height/2+a*this.stepHeight),this.ctx.lineTo(c,this.height/2+e*this.stepHeight),this.ctx.lineWidth=s,this.ctx.strokeStyle=n,this.ctx.stroke()},setRandomSignals(t=9){let i="";for(let e=0;e<t;e++)i+=Math.round(Math.random());this.createSignalFromString(i),this.$refs.signalInput.placeholder=i,this.createSignals(this.encodeType),this.stepsCount=this.inputSignal.length,this.draw(),this.sizeChanged=!0},drawClockPeriodLines(){const t="white";for(let i=0;i<this.visibleSegmentsCount;i++){this.ctx.beginPath(),this.ctx.moveTo(i*this.getStepWidth,0),this.ctx.lineTo(i*this.getStepWidth,this.height),this.ctx.lineWidth=.5,this.ctx.stroke();let e=this.inputSignal[i];e||(e=0),this.ctx.fillStyle=t,this.ctx.fillText(e.toString(),i*this.getStepWidth+this.getStepWidth/2-2,20)}},drawYAxis(){this.ctx.beginPath(),this.ctx.moveTo(0,this.height/2),this.ctx.lineTo(this.width,this.height/2),this.ctx.lineWidth=.2,this.ctx.stroke()},createSignals(t){switch(console.log("Created Signal: "+t),t){case"UniNRZ":this.signals=b(this.inputSignal);break;case"BiNRZ":this.signals=C(this.inputSignal);break;case"UniRZ":this.signals=k(this.inputSignal);break;case"BiRZ":this.signals=y(this.inputSignal);break;case"NRZI":this.signals=T(this.inputSignal);break;case"AMI":this.signals=W(this.inputSignal);break;case"MH-2":this.signals=M(this.inputSignal);break;case"FM":this.signals=H(this.inputSignal);break;default:console.log("Default"),this.signals=b(this.inputSignal);break}this.draw()},startMove(){let t=1060;this.signalMovePromise=setInterval(this.moveSignal,t)},stopMove(){clearInterval(this.signalMovePromise),this.createSignals(this.encodeType),this.stepsCount=this.inputSignal.length,this.draw(),this.sizeChanged=!0},moveSignal(){console.log("moving w");const t=this.signals[this.signals.length-1][3];this.signals[0][0]=t,console.log("moving w"+t);for(let i=this.signals.length-1;i>0;i--){for(let t=this.signals.length-1;t>1;t--)this.signals[i][t]=this.signals[i][t-1];i>0&&(this.signals[i][0]=this.signals[i-1][3])}this.draw(),this.sizeChanged=!0}},mounted(){this.setRandomSignals(),this.updateCanvasWidth(),window.addEventListener("resize",(()=>{this.updateCanvasWidth()}),!0)},updated(){this.sizeChanged&&this.draw()}},Z=e(89);const P=(0,Z.Z)(R,[["render",v],["__scopeId","data-v-5aa76260"]]);var _=P,I={name:"App",components:{LineCoder:_}};const j=(0,Z.Z)(I,[["render",o]]);var O=j;(0,s.ri)(O).mount("#app")}},i={};function e(s){var n=i[s];if(void 0!==n)return n.exports;var h=i[s]={exports:{}};return t[s](h,h.exports,e),h.exports}e.m=t,function(){var t=[];e.O=function(i,s,n,h){if(!s){var o=1/0;for(c=0;c<t.length;c++){s=t[c][0],n=t[c][1],h=t[c][2];for(var l=!0,a=0;a<s.length;a++)(!1&h||o>=h)&&Object.keys(e.O).every((function(t){return e.O[t](s[a])}))?s.splice(a--,1):(l=!1,h<o&&(o=h));if(l){t.splice(c--,1);var r=n();void 0!==r&&(i=r)}}return i}h=h||0;for(var c=t.length;c>0&&t[c-1][2]>h;c--)t[c]=t[c-1];t[c]=[s,n,h]}}(),function(){e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,{a:i}),i}}(),function(){e.d=function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){var t={143:0};e.O.j=function(i){return 0===t[i]};var i=function(i,s){var n,h,o=s[0],l=s[1],a=s[2],r=0;if(o.some((function(i){return 0!==t[i]}))){for(n in l)e.o(l,n)&&(e.m[n]=l[n]);if(a)var c=a(e)}for(i&&i(s);r<o.length;r++)h=o[r],e.o(t,h)&&t[h]&&t[h][0](),t[h]=0;return e.O(c)},s=self["webpackChunksignal_timeline"]=self["webpackChunksignal_timeline"]||[];s.forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(5387)}));s=e.O(s)})();
//# sourceMappingURL=app.39c2abdb.js.map